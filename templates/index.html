<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<title>Flux Vidéo de Détection</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

		<style>
			/* body {
				background-color: #dedede;
				padding: 2em;
			}
			main {
				max-width: 95%;
				margin: 0 auto;
				background-color: #fefefe;
				padding: 1em;
				border-radius: 20px;
			} */

			video {
				max-width: 100%;
			}

			.d-block {
				display: block;
				margin: 0 auto;
			}

			.text-center {
				text-align: center;
			}

		</style>
	</head>
	<body class="container">
		<header>
			<nav class="navbar navbar-expand-lg bg-body-tertiary">
				<div class="container-fluid">
					<span class="navbar-brand" href="#">Choix du modèle :</span>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarNav">
						<ul class="navbar-nav">
							<li class="nav-item">
								<a class="nav-link" href="https://vp-server.edounze.com/">SSD Mobile Net</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="https://vp-server-v2.edounze.com/">Efficientdet Lite 3</a>
							</li>
						</ul>
					</div>
				</div>
			</nav>
		</header>
		<main>
			<div class="container">
				<img class="text-center d-block" src="/static/images/logo.png" class="d-block" alt="Logo Greengardians" width="150">
				<h2 class="text-center  my-4">Local camera video</h2>
				<section class="row">
					<div class="col card">
						<video id="localVideo" autoplay></video>
						<div class="card-body">
							<h3 class="text-center">Images temps réel</h3>
							<canvas id="canvas" width="640" height="480" style="display: none"></canvas>
						</div>
					</div>
					<div class="col card">
						<img id="processedImage">
						<div class="card-body">
							<h3 class="text-center">Images après traitement (1 image par seconde)</h3>
						</div>
					</div>
				</section>
			</div>
			<div class="container">
				<h2 class="text-center my-4">Remote camera video</h2>
				<section class="row">
					<div class="col card">
						<video id="remoteVideo" autoplay loop>
							<source src="/static/camera.mp4" type="video/mp4"/>
						</video>
						<canvas id="canvasRemote" width="640" height="480" style="display: none"></canvas>
					</div>
					<div class="col card">
						<img id="processedImageRemote">
					</div>
				</section>
			</div>
		</main>
		<script defer src="{{ url_for('static', filename='js/stream.js') }}"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	</body>
</html>
